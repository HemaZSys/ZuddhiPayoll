@model IEnumerable<First.Models.Employee>

@{
    ViewBag.Title = "Index";
}


<link href="~/CSS/bootstrap.min.table.css" rel="stylesheet" />
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css">
<link rel="stylesheet" href="~/CSS/jquery.dataTables.min.css">

<style>


    table table-hover {
        width: 100%;
        border-collapse: collapse;
        border: 1px solid black;
    }

    .card-layout {
        box-shadow: 0 0 15px #322f2f37;
        padding:0 2% 0 2% !important;
        background: #dbaaef30;
        margin: 0;
    }
    .container-fluid {
        padding-right: 0px !important;
        padding-left: 0px !important;
    }

    a {
        color: #8a15d3;
        text-decoration: none;
    }

    table td {
        line-height: 25px;
        padding-left: 15px;
        background-color: #fff !important;
        text-align: left;
    }

    table th {
        background-color: #340452;
        color: #fff;
        text-align: left;
    }
    .heading {
        text-align: center;
        font-size: 27px !important;
        font-weight: bold;
    }
</style>
<div class="container-fluid">
    <div class="card card-layout ">
        <div class="heading">Employee Information</div>
        
        @*<p>
                @Html.ActionLink("Create New", "Index")
            </p>*@
        <div style=" overflow-x: scroll;">
            <table id="tblEmployees" class="table table-hover">
                <thead>
                    <tr>
                        <th style="text-align:center;">
                            @Html.DisplayNameFor(model => model.EmployeeId)
                        </th>
                        <th style="min-width:15rem">
                            @Html.DisplayNameFor(model => model.Name)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Email)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Contact)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Empstatus)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Reportingmanager)
                        </th>
                        <th style="min-width:10rem">
                            @Html.DisplayNameFor(model => model.DateofJoin)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Availability)
                        </th>
                        <th></th>
                        <th>Action</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {

                        <tr class="info">
                            <td>
                                @Html.DisplayFor(modelItem => item.EmployeeId)
                            </td>
                            <td title="Email: @(item.Email)  | DOB: @(item.DOB) |  Gender: @(item.Gender)">
                                @Html.ActionLink(item.Name, "EmployeeDetails", new { id = item.Id })
                                @Html.HiddenFor(modelItem => item.Id)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.offcEmail)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Contact)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Empstatus)

                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Reportingmanager)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.DateofJoin)
                                
                            </td>
                            <td>

                                @if (Html.DisplayFor(modelItem => item.Availability).ToString().Trim() == "Active")
                                {
                                <label style="color:green;">@Html.DisplayFor(modelItem => item.Availability).ToString()</label>
                                }
                                else
                                {
                                <label style="color:red;">@Html.DisplayFor(modelItem => item.Availability).ToString()</label>
                                }
                            </td>
                            <td>

                                @Html.ActionLink("Payslip", "PayslipGradeEntryview", "PayslipEntry", new { id = item.Id }, null)
                            </td>
                            <td>

                                @Html.ActionLink("Tax Decl", "Form80C", "Tax", new { id = item.Id, year = DateTime.Now }, null)
                            </td>
                            <td id="UpdateEmployee">
                                @*@Html.ActionLink(" ", "UpdateEmployee", new { id = item.Id }, new { @class = "glyphicon glyphicon-pencil" })*@
                                @Html.ActionLink(" ", "Index", new { id = item.Id, mode = 2 }, new { @class = "glyphicon glyphicon-pencil" })
                            </td>
                            @*<td>
                                    @Html.ActionLink(" ", "DeleteEmployee", new { id = item.Id }, new { @class = "glyphicon glyphicon-trash" })
                                </td>*@
                            @*<td>
                                    @Html.ActionLink("Edit Detail", "UpdateEmployee", new { id = item.Id }) |
                                    @Html.ActionLink("Show Details", "EmployeeDetails", new { id = item.Id }) |
                                    @Html.ActionLink("Delete", "DeleteEmployee", new { id = item.Id })
                                </td>*@
                        </tr>

                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="~/Js/jquery.min.js"></script>
<script src="~/Js/jquery.dataTables.min.js"></script>

<script type="text/javascript">
    $(document).ready(function () {

        window.onload = window.history.forward(0);
        checkLogin();
        $('#tblEmployees').DataTable();
    });
</script>

